--
-- PostgreSQL database dump
--

-- Dumped from database version 16.3
-- Dumped by pg_dump version 16.3

-- Started on 2024-12-29 20:42:17

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 4 (class 2615 OID 2200)
-- Name: public; Type: SCHEMA; Schema: -; Owner: -
--

CREATE SCHEMA public;


--
-- TOC entry 218 (class 1259 OID 295129)
-- Name: client; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.client (
    idclient integer NOT NULL,
    nom character varying(100) NOT NULL,
    prenom character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    telephone character varying(20) NOT NULL,
    adresse text NOT NULL
);


--
-- TOC entry 217 (class 1259 OID 295128)
-- Name: client_idclient_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.client_idclient_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4910 (class 0 OID 0)
-- Dependencies: 217
-- Name: client_idclient_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.client_idclient_seq OWNED BY public.client.idclient;


--
-- TOC entry 226 (class 1259 OID 295178)
-- Name: notification; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.notification (
    idnotification integer NOT NULL,
    idreservation integer,
    typenotification character varying(50) NOT NULL,
    dateenvoi date NOT NULL,
    statut character varying(20) NOT NULL
);


--
-- TOC entry 225 (class 1259 OID 295177)
-- Name: notification_idnotification_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.notification_idnotification_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4911 (class 0 OID 0)
-- Dependencies: 225
-- Name: notification_idnotification_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.notification_idnotification_seq OWNED BY public.notification.idnotification;


--
-- TOC entry 224 (class 1259 OID 295166)
-- Name: paiement; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.paiement (
    idpaiement integer NOT NULL,
    idreservation integer,
    datepaiement timestamp without time zone NOT NULL,
    montant numeric(10,2) NOT NULL,
    modepaiement character varying(50) NOT NULL
);


--
-- TOC entry 223 (class 1259 OID 295165)
-- Name: paiement_idpaiement_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.paiement_idpaiement_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4912 (class 0 OID 0)
-- Dependencies: 223
-- Name: paiement_idpaiement_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.paiement_idpaiement_seq OWNED BY public.paiement.idpaiement;


--
-- TOC entry 228 (class 1259 OID 295190)
-- Name: rapport; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.rapport (
    idrapport integer NOT NULL,
    idreservation integer,
    typerapport character varying(50) NOT NULL,
    cheminfichier text NOT NULL
);


--
-- TOC entry 227 (class 1259 OID 295189)
-- Name: rapport_idrapport_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.rapport_idrapport_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4913 (class 0 OID 0)
-- Dependencies: 227
-- Name: rapport_idrapport_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.rapport_idrapport_seq OWNED BY public.rapport.idrapport;


--
-- TOC entry 222 (class 1259 OID 295149)
-- Name: reservation; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.reservation (
    idreservation integer NOT NULL,
    idutilisateur integer,
    idclient integer,
    datereservation date NOT NULL,
    datearrivee date NOT NULL,
    datedepart date NOT NULL,
    statut character varying(20) NOT NULL
);


--
-- TOC entry 221 (class 1259 OID 295148)
-- Name: reservation_idreservation_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.reservation_idreservation_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4914 (class 0 OID 0)
-- Dependencies: 221
-- Name: reservation_idreservation_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.reservation_idreservation_seq OWNED BY public.reservation.idreservation;


--
-- TOC entry 220 (class 1259 OID 295140)
-- Name: typechambre; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.typechambre (
    idtype integer NOT NULL,
    libelle character varying(100) NOT NULL,
    description text NOT NULL,
    capacite integer NOT NULL,
    prixnuit numeric(10,2) NOT NULL
);


--
-- TOC entry 219 (class 1259 OID 295139)
-- Name: typechambre_idtype_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.typechambre_idtype_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4915 (class 0 OID 0)
-- Dependencies: 219
-- Name: typechambre_idtype_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.typechambre_idtype_seq OWNED BY public.typechambre.idtype;


--
-- TOC entry 216 (class 1259 OID 295118)
-- Name: utilisateur; Type: TABLE; Schema: public; Owner: -
--

CREATE TABLE public.utilisateur (
    idutilisateur integer NOT NULL,
    nom character varying(100) NOT NULL,
    prenom character varying(100) NOT NULL,
    email character varying(100) NOT NULL,
    motdepasse character varying(255) NOT NULL,
    telephone character varying(20) NOT NULL,
    role character varying(20) NOT NULL
);


--
-- TOC entry 215 (class 1259 OID 295117)
-- Name: utilisateur_idutilisateur_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE public.utilisateur_idutilisateur_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- TOC entry 4916 (class 0 OID 0)
-- Dependencies: 215
-- Name: utilisateur_idutilisateur_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE public.utilisateur_idutilisateur_seq OWNED BY public.utilisateur.idutilisateur;


--
-- TOC entry 4719 (class 2604 OID 295132)
-- Name: client idclient; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.client ALTER COLUMN idclient SET DEFAULT nextval('public.client_idclient_seq'::regclass);


--
-- TOC entry 4723 (class 2604 OID 295181)
-- Name: notification idnotification; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.notification ALTER COLUMN idnotification SET DEFAULT nextval('public.notification_idnotification_seq'::regclass);


--
-- TOC entry 4722 (class 2604 OID 295169)
-- Name: paiement idpaiement; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.paiement ALTER COLUMN idpaiement SET DEFAULT nextval('public.paiement_idpaiement_seq'::regclass);


--
-- TOC entry 4724 (class 2604 OID 295193)
-- Name: rapport idrapport; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rapport ALTER COLUMN idrapport SET DEFAULT nextval('public.rapport_idrapport_seq'::regclass);


--
-- TOC entry 4721 (class 2604 OID 295152)
-- Name: reservation idreservation; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.reservation ALTER COLUMN idreservation SET DEFAULT nextval('public.reservation_idreservation_seq'::regclass);


--
-- TOC entry 4720 (class 2604 OID 295143)
-- Name: typechambre idtype; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.typechambre ALTER COLUMN idtype SET DEFAULT nextval('public.typechambre_idtype_seq'::regclass);


--
-- TOC entry 4718 (class 2604 OID 295121)
-- Name: utilisateur idutilisateur; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.utilisateur ALTER COLUMN idutilisateur SET DEFAULT nextval('public.utilisateur_idutilisateur_seq'::regclass);


--
-- TOC entry 4894 (class 0 OID 295129)
-- Dependencies: 218
-- Data for Name: client; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4902 (class 0 OID 295178)
-- Dependencies: 226
-- Data for Name: notification; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4900 (class 0 OID 295166)
-- Dependencies: 224
-- Data for Name: paiement; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4904 (class 0 OID 295190)
-- Dependencies: 228
-- Data for Name: rapport; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4898 (class 0 OID 295149)
-- Dependencies: 222
-- Data for Name: reservation; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4896 (class 0 OID 295140)
-- Dependencies: 220
-- Data for Name: typechambre; Type: TABLE DATA; Schema: public; Owner: -
--



--
-- TOC entry 4892 (class 0 OID 295118)
-- Dependencies: 216
-- Data for Name: utilisateur; Type: TABLE DATA; Schema: public; Owner: -
--

INSERT INTO public.utilisateur (idutilisateur, nom, prenom, email, motdepasse, telephone, role) VALUES (1, 'admin', 'admin', 'admin', 'admin', 'admin', 'admin') ON CONFLICT DO NOTHING;


--
-- TOC entry 4917 (class 0 OID 0)
-- Dependencies: 217
-- Name: client_idclient_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.client_idclient_seq', 1, false);


--
-- TOC entry 4918 (class 0 OID 0)
-- Dependencies: 225
-- Name: notification_idnotification_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.notification_idnotification_seq', 1, false);


--
-- TOC entry 4919 (class 0 OID 0)
-- Dependencies: 223
-- Name: paiement_idpaiement_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.paiement_idpaiement_seq', 1, false);


--
-- TOC entry 4920 (class 0 OID 0)
-- Dependencies: 227
-- Name: rapport_idrapport_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.rapport_idrapport_seq', 1, false);


--
-- TOC entry 4921 (class 0 OID 0)
-- Dependencies: 221
-- Name: reservation_idreservation_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.reservation_idreservation_seq', 1, false);


--
-- TOC entry 4922 (class 0 OID 0)
-- Dependencies: 219
-- Name: typechambre_idtype_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.typechambre_idtype_seq', 1, false);


--
-- TOC entry 4923 (class 0 OID 0)
-- Dependencies: 215
-- Name: utilisateur_idutilisateur_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('public.utilisateur_idutilisateur_seq', 1, true);


--
-- TOC entry 4730 (class 2606 OID 295138)
-- Name: client client_email_key; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT client_email_key UNIQUE (email);


--
-- TOC entry 4732 (class 2606 OID 295136)
-- Name: client client_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.client
    ADD CONSTRAINT client_pkey PRIMARY KEY (idclient);


--
-- TOC entry 4740 (class 2606 OID 295183)
-- Name: notification notification_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_pkey PRIMARY KEY (idnotification);


--
-- TOC entry 4738 (class 2606 OID 295171)
-- Name: paiement paiement_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.paiement
    ADD CONSTRAINT paiement_pkey PRIMARY KEY (idpaiement);


--
-- TOC entry 4742 (class 2606 OID 295197)
-- Name: rapport rapport_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rapport
    ADD CONSTRAINT rapport_pkey PRIMARY KEY (idrapport);


--
-- TOC entry 4736 (class 2606 OID 295154)
-- Name: reservation reservation_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_pkey PRIMARY KEY (idreservation);


--
-- TOC entry 4734 (class 2606 OID 295147)
-- Name: typechambre typechambre_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.typechambre
    ADD CONSTRAINT typechambre_pkey PRIMARY KEY (idtype);


--
-- TOC entry 4726 (class 2606 OID 295127)
-- Name: utilisateur utilisateur_email_key; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.utilisateur
    ADD CONSTRAINT utilisateur_email_key UNIQUE (email);


--
-- TOC entry 4728 (class 2606 OID 295125)
-- Name: utilisateur utilisateur_pkey; Type: CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.utilisateur
    ADD CONSTRAINT utilisateur_pkey PRIMARY KEY (idutilisateur);


--
-- TOC entry 4746 (class 2606 OID 295184)
-- Name: notification notification_idreservation_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.notification
    ADD CONSTRAINT notification_idreservation_fkey FOREIGN KEY (idreservation) REFERENCES public.reservation(idreservation) ON DELETE CASCADE;


--
-- TOC entry 4745 (class 2606 OID 295172)
-- Name: paiement paiement_idreservation_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.paiement
    ADD CONSTRAINT paiement_idreservation_fkey FOREIGN KEY (idreservation) REFERENCES public.reservation(idreservation) ON DELETE CASCADE;


--
-- TOC entry 4747 (class 2606 OID 295198)
-- Name: rapport rapport_idreservation_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.rapport
    ADD CONSTRAINT rapport_idreservation_fkey FOREIGN KEY (idreservation) REFERENCES public.reservation(idreservation) ON DELETE CASCADE;


--
-- TOC entry 4743 (class 2606 OID 295160)
-- Name: reservation reservation_idclient_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_idclient_fkey FOREIGN KEY (idclient) REFERENCES public.client(idclient) ON DELETE CASCADE;


--
-- TOC entry 4744 (class 2606 OID 295155)
-- Name: reservation reservation_idutilisateur_fkey; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY public.reservation
    ADD CONSTRAINT reservation_idutilisateur_fkey FOREIGN KEY (idutilisateur) REFERENCES public.utilisateur(idutilisateur) ON DELETE CASCADE;


-- Completed on 2024-12-29 20:42:17

--
-- PostgreSQL database dump complete
--

